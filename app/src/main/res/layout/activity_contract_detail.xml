<?xml version="1.0" encoding="utf-8"?>
<LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:app="http://schemas.android.com/apk/res-auto"
    android:orientation="vertical"
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    android:background="#FAFAFA">

    <!-- Toolbar -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="82dp"
        android:background="@color/white"
        android:paddingTop="20dp"
        android:elevation="4dp"
        android:gravity="center_vertical"
        android:orientation="horizontal"
        android:paddingStart="16dp"
        android:paddingEnd="16dp">

        <ImageButton
            android:id="@+id/btnBack"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:background="?attr/selectableItemBackgroundBorderless"
            android:contentDescription="Kembali"
            android:src="@drawable/baseline_arrow_back_24"
            app:tint="@color/black" />

        <LinearLayout
            android:layout_width="0dp"
            android:layout_height="wrap_content"
            android:layout_weight="1"
            android:orientation="vertical"
            android:paddingStart="12dp">

            <TextView
                android:id="@+id/tvHeaderTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text=" "
                android:textColor="@color/black"
                android:textSize="18sp"
                android:textStyle="bold" />

            <TextView
                android:id="@+id/tvHeaderCompany"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text=" "
                android:textColor="@color/black"
                android:textSize="16dp" />
        </LinearLayout>
        <ImageButton
            android:id="@+id/btnBagikan"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:src="@android:drawable/ic_menu_share"
            android:contentDescription="Bagikan kontrak"
            android:background="?attr/selectableItemBackgroundBorderless"
            app:tint="@color/teal_700"
        android:layout_margin="8dp"/>

        <Button
            android:id="@+id/btnLaporkan"
            android:layout_width="wrap_content"
            android:layout_height="36dp"
            android:backgroundTint="@color/white"
            android:elevation="2dp"
            android:minWidth="0dp"
            android:minHeight="0dp"
            android:paddingHorizontal="12dp"
            android:text="Laporkan"
            android:textColor="@color/red"
            android:textSize="12dp" />
    </LinearLayout>

    <!-- Content -->
    <ScrollView
        android:layout_width="match_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:padding="16dp">

        <LinearLayout
            android:id="@+id/container"
            android:layout_width="match_parent"
            android:layout_height="wrap_content"
            android:orientation="vertical"
            android:background="@drawable/bg_produk_card"
            android:padding="16dp"
            android:elevation="1dp">

            <!-- Header Info -->
            <LinearLayout
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:gravity="center_vertical"
                android:paddingBottom="16dp">

                <ImageView
                    android:id="@+id/imgLogo"
                    android:layout_width="60dp"
                    android:layout_height="60dp"
                    android:src="@drawable/bg_produk_card"
                    android:scaleType="centerCrop"

                    android:contentDescription="Logo Perusahaan" />

                <LinearLayout
                    android:layout_width="0dp"
                    android:layout_height="wrap_content"
                    android:layout_weight="1"
                    android:orientation="vertical"
                    android:paddingStart="12dp">
                    <LinearLayout
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:orientation="horizontal"
                        android:gravity="center_vertical">

                      <TextView
                            android:id="@+id/tvNamaPerusahaan"
                            android:layout_width="wrap_content"
                            android:layout_height="wrap_content"

                            android:textStyle="bold"
                            android:textColor="#212121"
                            android:textSize="16sp" />
                        <ImageView
                            android:id="@+id/icVerifiedDetail"
                            android:layout_width="18dp"
                            android:layout_height="18dp"
                            android:layout_marginStart="4dp"
                            android:layout_gravity="bottom"
                            android:src="@drawable/ic_verified"
                            android:visibility="gone"
                            android:contentDescription="Verified" />
                    </LinearLayout>
                    <TextView
                        android:id="@+id/tvLokasi"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text=" "
                        android:textColor="#757575" />
                    <TextView
                        android:id="@+id/tvTerbayar"
                        android:layout_width="wrap_content"
                        android:layout_height="wrap_content"
                        android:text="Terbayar: - kontrak"
                        android:textSize="14sp"
                        android:textColor="@color/black"/>


                </LinearLayout>
            </LinearLayout>
        <LinearLayout
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:orientation="horizontal">

            <!-- Detail Kontrak -->
            <TextView
                android:id="@+id/tvKebutuhan"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text=" "
                android:textSize="18dp"
                android:textStyle="bold"
                android:textColor="@color/black"
                android:paddingBottom="6dp" />
            <TextView
                android:id="@+id/tvJumlahKebutuhan"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginStart="4dp"
                android:textSize="16dp"
                android:text=" "
                android:textColor="@color/black" />
        </LinearLayout>
            <TextView
                android:id="@+id/tvHargaPerKg"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text=" "
                android:textSize="18dp"
                android:textStyle="bold"
                android:textColor="@color/teal_700" />


            <LinearLayout
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:orientation="horizontal"
                android:layout_marginTop="4dp">

                <TextView
                    android:id="@+id/tvRating"
                    android:layout_width="wrap_content"
                    android:layout_height="wrap_content"
                    android:text=" "
                    android:textColor="#FF9800" />

            </LinearLayout>

            <TextView
                android:id="@+id/tvWaktuDibutuhkan"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text=" "
                android:textColor="#424242" />

            <TextView
                android:id="@+id/tvJumlahKontrak"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text=" "
                android:textColor="@color/black" />
            <!-- Tabel Potongan Grade -->
            <!-- Tabel Potongan Grade Horizontal -->
            <TextView
                android:id="@+id/tvGradeTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="💰 Potongan Berdasarkan Grade:"
                android:textStyle="bold"
                android:textSize="16sp"
                android:textColor="@color/black"
                android:layout_marginTop="12dp"
                android:layout_marginBottom="6dp" />

            <TableLayout
                android:id="@+id/tableGrades"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:background="@drawable/table_border"
                android:padding="0dp"
                android:elevation="1dp"
                android:stretchColumns="*"
                android:layout_marginBottom="12dp">

                <!-- Baris 1: Label Grade -->
                <TableRow>

                    <TextView
                        android:layout_width="33dp"
                        android:layout_height="wrap_content"
                        android:background="@drawable/cell_border"
                        android:padding="4dp"
                        android:text="Grade"
                        android:textColor="@color/black"
                        android:textSize="12sp"
                        android:textStyle="bold" />
                    <TextView
                        android:text="A"
                        android:textStyle="bold"
                        android:background="@drawable/cell_border"
                        android:textColor="@color/black"
                        android:gravity="center"
                        android:padding="4dp"
                        android:textSize="12sp" />
                    <TextView
                        android:text="B"
                        android:textStyle="bold"
                        android:textColor="@color/black"
                        android:background="@drawable/cell_border"
                        android:gravity="center"
                        android:padding="4dp"
                        android:textSize="12sp" />
                    <TextView
                        android:text="C"
                        android:textStyle="bold"
                        android:textColor="@color/black"
                        android:gravity="center"
                        android:padding="4dp"
                        android:background="@drawable/cell_border"
                        android:textSize="12sp" />
                </TableRow>

                <!-- Baris 2: Nilai Potongan -->
                <TableRow>
                    <TextView
                        android:layout_width="33dp"
                        android:layout_height="wrap_content"
                        android:text="Potongan (%)"
                        android:textStyle="bold"
                        android:textColor="@color/black"
                        android:padding="4dp"
                        android:background="@drawable/cell_border"
                        android:textSize="12sp" />
                    <TextView
                        android:text="0 %"
                        android:textColor="@color/black"
                        android:gravity="center"
                        android:background="@drawable/cell_border"
                        android:padding="4dp"
                        android:textSize="12sp" />
                    <TextView
                        android:id="@+id/tvGradeB"

                        android:textColor="@color/black"
                        android:gravity="center"
                        android:background="@drawable/cell_border"
                        android:padding="4dp"
                        android:textSize="12sp" />
                    <TextView
                        android:id="@+id/tvGradeC"

                        android:textColor="@color/black"
                        android:gravity="center"
                        android:background="@drawable/cell_border"
                        android:padding="4dp"
                        android:textSize="12sp" />
                </TableRow>
                <TableRow>
                    <TextView
                        android:layout_width="33dp"
                        android:layout_height="wrap_content"
                        android:text="Harga (Rp)"
                        android:textStyle="bold"
                        android:textColor="@color/black"
                        android:padding="8dp"
                        android:background="@drawable/cell_border"
                        android:textSize="12sp" />
                    <TextView
                        android:id="@+id/tvHargaA"

                        android:textColor="@color/black"
                        android:gravity="center"
                        android:background="@drawable/cell_border"
                        android:padding="8dp"
                        android:textSize="12sp" />
                    <TextView
                        android:id="@+id/tvHargaB"

                        android:textColor="@color/black"
                        android:gravity="center"
                        android:background="@drawable/cell_border"
                        android:padding="8dp"
                        android:textSize="12sp" />
                    <TextView
                        android:id="@+id/tvHargaC"

                        android:textColor="@color/black"
                        android:gravity="center"
                        android:background="@drawable/cell_border"
                        android:padding="8dp"
                        android:textSize="12sp" />
                </TableRow>

            </TableLayout>


            <Button
                android:id="@+id/btnLihatPerusahaan"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:layout_marginTop="8dp"
                android:background="@drawable/shape_kanan"
                android:elevation="3dp"
                android:text="Lihat Perusahaan"
                android:textAlignment="viewStart"
                android:textColor="@color/white" />
            <View
                android:layout_width="match_parent"
                android:layout_height="1dp"
                android:background="#BDBDBD"
                android:layout_marginVertical="16dp" />

            <!-- Deskripsi -->
            <TextView
                android:id="@+id/tvDeskripsiTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Deskripsi Kontrak:"
                android:textStyle="bold"
                android:textSize="16sp"
                android:textColor="#212121" />
            <TextView
                android:id="@+id/tvOftakerId"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Oftaker ID"
                android:textStyle="bold"
                android:textSize="16sp"
                android:textColor="#212121"
                android:visibility="gone"/>

            <TextView
                android:id="@+id/tvDeskripsi"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text=" "
                android:textColor="@color/black"
                android:paddingTop="4dp"
                android:paddingBottom="12dp" />

            <!-- Persyaratan -->
            <TextView
                android:id="@+id/tvPersyaratanTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Persyaratan:"
                android:textStyle="bold"
                android:textSize="16sp"
                android:textColor="@color/black" />

            <TextView
                android:id="@+id/tvPersyaratan"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text=" "
                android:textColor="#616161"
                android:paddingTop="4dp" />

            <TextView
                android:id="@+id/tvTimeUpload"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="Diunggah:"
                android:textColor="#9E9E9E"
                android:layout_marginTop="16dp" />
            <View
                android:layout_width="match_parent"
                android:layout_height="1dp"
                android:background="#BDBDBD"
                android:layout_marginTop="16dp"
                android:layout_marginBottom="8dp" />
            <TextView
                android:id="@+id/tvRiskScore"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Skor Risiko: -"
                android:textSize="16sp"
                android:textStyle="bold"
                android:paddingTop="8dp"
                android:textColor="@color/black"
                android:paddingBottom="4dp"/>

            <TextView
                android:id="@+id/tvRiskRecommendation"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="Rekomendasi: -"
                android:textColor="@color/black"
                android:textSize="14sp"
                android:paddingBottom="8dp"/>

            <View
                android:layout_width="match_parent"
                android:layout_height="1dp"
                android:background="#BDBDBD"
                android:layout_marginTop="16dp"
                android:layout_marginBottom="8dp" />

                <TextView
                    android:id="@+id/tvRiskScoreAI"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"

                    android:text="Skor Risiko AI"
                    android:textColor="@android:color/holo_red_dark"
                    android:textSize="14sp"
                    android:padding="4dp"/>

                <TextView
                    android:id="@+id/tvRiskRecommendationAI"
                    android:layout_width="match_parent"
                    android:layout_height="wrap_content"

                    android:text="Rekomendasi AI"
                    android:textColor="@android:color/holo_blue_dark"
                    android:textSize="14sp"
                    android:padding="4dp"/>
            <!-- Penjelasan Perbedaan Manual vs AI -->
            <TextView
                android:id="@+id/tvComparisonTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="📊 Manual vs 🤖 AI"
                android:textStyle="bold"
                android:textSize="16sp"
                android:textColor="@color/black"
                android:layout_marginTop="8dp"
                android:layout_marginBottom="4dp" />

            <TextView
                android:id="@+id/tvComparisonContent"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="• Manual: Menggunakan aturan logika (harga, jumlah, waktu, lokasi, komoditas).\n• AI: Belajar dari data riwayat kontrak dan pembayaran untuk mendeteksi pola kegagalan.\n\n🛡️ Rekomendasi: Gunakan keduanya bersama untuk keputusan lebih aman."
                android:textColor="#424242"
                android:textSize="14sp"
                android:lineSpacingExtra="2dp"
                android:layout_marginBottom="12dp" />

            <!-- Informasi Keamanan Tambahan -->
            <TextView
                android:id="@+id/tvSafetyInfoTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="🛡️ Informasi Keamanan:"
                android:textStyle="bold"
                android:textSize="16sp"
                android:textColor="@color/black"
                android:layout_marginBottom="4dp" />

            <TextView
                android:id="@+id/tvSafetyInfoContent"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="• Sistem ini hanya memberikan analisis pendukung, bukan jaminan.\n• Selalu verifikasi pihak lawan kontrak secara manual.\n• Simpan bukti kontrak dan komunikasi resmi.\n• Hubungi admin poktan atau penyuluh jika menemukan indikasi penipuan."
                android:textColor="#616161"
                android:textSize="14sp"
                android:lineSpacingExtra="2dp"
                android:layout_marginBottom="12dp" />

            <TextView
                android:id="@+id/tvTipsTitle"
                android:layout_width="wrap_content"
                android:layout_height="wrap_content"
                android:text="💡Tips Aman Cari Kontrak:"
                android:textStyle="bold"
                android:textSize="16sp"
                android:textColor="@color/black"
                android:layout_marginBottom="4dp" />

            <TextView
                android:id="@+id/tvTipsContent"
                android:layout_width="match_parent"
                android:layout_height="wrap_content"
                android:text="- Periksa legalitas perusahaan\n- Hindari kontrak dengan syarat yang tidak wajar\n- Jangan transfer di luar sistem resmi\n- Hubungi layanan bantuan jika ragu"
                android:textColor="#616161"
                android:textSize="14sp" />

        </LinearLayout>
        <!-- Tips Aman Cari Kontrak -->

    </ScrollView>

    <!-- Footer -->
    <LinearLayout
        android:layout_width="match_parent"
        android:layout_height="113dp"
        android:background="#FFFFFF"
        android:elevation="8dp"
        android:orientation="horizontal"
        android:padding="16dp"
        android:weightSum="2">

        <Button
            android:id="@+id/btnSimpan"
            android:layout_width="0dp"
            android:layout_height="48dp"
            android:layout_marginEnd="8dp"
            android:layout_weight="1"
            android:backgroundTint="#FBC02D"
            android:elevation="2dp"
            android:text="Simpan Kontrak"
            android:textColor="#FFFFFF" />

        <Button
            android:id="@+id/btnAjukan"
            android:layout_width="0dp"
            android:layout_height="48dp"
            android:layout_weight="1"
            android:backgroundTint="@color/teal_700"
            android:elevation="4dp"
            android:text="Ajukan Kontrak"
            android:textColor="#FFFFFF" />
    </LinearLayout>

</LinearLayout>
